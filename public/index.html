<!DOCTYPE html>
<html>
<head>
<title>Honest25-AI</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black text-white">

<div class="max-w-2xl mx-auto p-6">
  <h1 class="text-2xl font-bold mb-6 text-blue-500">HONEST25-AI</h1>

  <div id="chat" class="space-y-4 mb-20"></div>

  <div class="fixed bottom-5 left-0 right-0 max-w-2xl mx-auto flex gap-2 px-6">
    <input id="input" class="flex-1 p-3 bg-zinc-900 border border-zinc-700 rounded-lg" placeholder="Ask anything..." />
    <button onclick="ask()" class="bg-blue-600 px-5 rounded-lg">SEND</button>
  </div>

  <p id="status" class="text-xs text-zinc-500 mt-2 text-center"></p>
</div>

<script>
async function ask() {
  const input = document.getElementById("input");
  const chat = document.getElementById("chat");
  const status = document.getElementById("status");

  if (!input.value) return;

  const query = input.value;
  input.value = "";

  chat.innerHTML += `<div class="text-zinc-400">You: ${query}</div>`;
  status.innerText = "Honest25-AI racing fast models...";

  const res = await fetch("/api/chat", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({ messages: [{role: "user", content: query}] })
  });

  const data = await res.json();

  status.innerText = "Replied via: " + (data.modelUsed || "None");

  chat.innerHTML += `
    <div class="bg-zinc-900 p-4 rounded-lg border border-zinc-800">
      <b>Honest25-AI:</b><br>${data.reply}
    </div>
  `;

  window.scrollTo(0, document.body.scrollHeight);
}
</script>

</body>
</html>
